<main class="w-100">
    <app-header-dashboard class="w-100 mt-2 app-header"></app-header-dashboard>

    <div class="container-dashboard w-100">

        <div class="page-title-space">
            <h5 class="mt-3 mb-2">Calculadora de mercado</h5>
        </div>

        <div class="row p-2 container-sides">
            <div [ngClass]="filterRetrieved" class="side-l">
                <div class="filters">
                    <h5 class="title">Filtros</h5>
                    <mat-icon class="material-symbols-outlined">
                        filter_alt
                        </mat-icon>
                </div>
                <div class="expand-container">
                    <span class="expand">
                
                    </span>
                </div>
                <mat-accordion class="accordion">
                    <form [formGroup]="form">

                        
                        <mat-expansion-panel  [expanded]="true"  class="mat-expansion" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                            <mat-expansion-panel-header>
                                <mat-panel-title>Setor</mat-panel-title>
                            </mat-expansion-panel-header>

                            <div class="input-structure">
                                <label for="cnae" class="f-550">CNAE (Cadastro Nacional de Atividade Econômica)</label>
                                <input pInputText
                                id="cnae"
                                type="text" 
                                formControlName="cnae" />
                            </div>

                            </mat-expansion-panel>

                        <mat-expansion-panel class="region mat-expansion" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>Região</mat-panel-title>
                        </mat-expansion-panel-header>
                        <p-dropdown 
                        [options]="states" 
                        [(ngModel)]="selectedState" 
                        [ngModelOptions]="{standalone: true}"
                        optionLabel="name" 
                        placeholder="Estado" />

                        <div class="w-100 mt-2"></div>

                        <p-dropdown 
                        [options]="cities" 
                        [(ngModel)]="selectedCity" 
                        [ngModelOptions]="{standalone: true}"
                        optionLabel="name" 
                        placeholder="Cidade" />


                          <!-- bairro -->

                          <!-- <p-dropdown 
                                [options]="citiesListObj" 
                                optionLabel="name" 
                                placeholder="Cidade" 
                                class="p-drop"/> -->
                        </mat-expansion-panel>

                        <mat-expansion-panel  class="mat-expansion" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>Porte</mat-panel-title>
                        </mat-expansion-panel-header>
                        <p>I'm visible because I am open</p>
                        </mat-expansion-panel>
                    </form>
                    <div class="button-container">
                      <button class="w-100 btn-filter">Filtrar</button>
                    </div>
                  </mat-accordion>

            </div>

            <div [ngClass]="dashboardExpanded" class="side-r">
                <section class="info-cards-group row">
                    <mat-card class="card col-lg-2 col-md-3 col-sm-6 col-12">
                        <span class="f-550 active">22.672.697</span>
                        <p class="f-500">Empresas ativas</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-3 col-sm-6  col-12">
                        <span class="f-550 inactive">31.328.120</span>
                        <p class="f-500">Empresas inativas</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-3 col-sm-6  col-12">
                        <span class="f-550">50-100</span>
                        <p class="f-500">Funcionários</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-5 col-sm-6  col-12">
                        <span class="f-550">R$10.000.000,00</span>
                        <p class="f-500">Faturamento anual</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-5 col-sm-6  col-12">
                        <span class="f-550">8</span>
                        <p class="f-500">Idade média empresas ativas</p>
                    </mat-card>
                </section>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-12 graphic-container">
                        <div class="graph-header">
                            <h5>Empresas Abertas e Fechadas</h5>
                        </div>
                        <canvasjs-chart [options]="chartOptions" [styles]="{width: '100%', height:'260px'}"></canvasjs-chart>    
                    </div>
            </div>
        </div>
    </div>
</main>