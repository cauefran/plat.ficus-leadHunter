<main class="w-100">
    <app-header-dashboard class="w-100 mt-2 app-header"></app-header-dashboard>

    <div class="container-dashboard w-100">

        <div class="row p-2 container-sides">
            <div [ngClass]="isFilterExpanded ? filterExpanded : filterRetrieved" class="side-l">
                <div class="filters">
                    <mat-icon class="material-symbols-outlined">
                        filter_alt
                        </mat-icon>
                    <h5 class="title">Filtros</h5>
                </div>
                <div class="expand-container">
                    <span (click)="toggle()" class="expand">
                        {{isFilterExpanded ? 'Recolher' : 'Expandir' }}
                        <mat-icon class="material-symbols-outlined">
                            compare_arrows
                            </mat-icon>
                    </span>
                </div>
                <mat-accordion class="accordion">
                    <form>

                        
                        <mat-expansion-panel  [expanded]="true"  class="mat-expansion" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                            <mat-expansion-panel-header>
                                <mat-panel-title>Setor</mat-panel-title>
                            </mat-expansion-panel-header>
                            <mat-form-field>
                                <mat-label>CNAE</mat-label>
                                <input matInput>
                            </mat-form-field>
                            </mat-expansion-panel>

                        <mat-expansion-panel class="region mat-expansion" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>Região</mat-panel-title>
                        </mat-expansion-panel-header>

                         <mat-form-field>
                            <mat-label>Estado</mat-label>
                            <mat-select [formControl]="cities" multiple>
                              @for (cities of citiesList; track cities) {
                                <mat-option [value]="cities">{{cities}}</mat-option>
                              }
                            </mat-select>
                          </mat-form-field>

                          <!-- cidade -->

                         <mat-form-field>
                            <mat-label>Cidade</mat-label>
                            <mat-select [formControl]="cities" multiple>
                              @for (cities of citiesList; track cities) {
                                <mat-option [value]="cities">{{cities}}</mat-option>
                              }
                            </mat-select>
                          </mat-form-field>

                          <!-- bairro -->
                         <mat-form-field>
                            <mat-label>Bairro</mat-label>
                            <mat-select [formControl]="cities" multiple>
                              @for (cities of citiesList; track cities) {
                                <mat-option [value]="cities">{{cities}}</mat-option>
                              }
                            </mat-select>
                          </mat-form-field>
                          <!-- <p-dropdown 
                                [options]="citiesListObj" 
                                optionLabel="name" 
                                placeholder="Cidade" 
                                class="p-drop"/> -->
                        </mat-expansion-panel>

                        <mat-expansion-panel  class="mat-expansion" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>Porte</mat-panel-title>
                        </mat-expansion-panel-header>
                        <p>I'm visible because I am open</p>
                        </mat-expansion-panel>
                    </form>
                  </mat-accordion>
            </div>
            <div [ngClass]=" isFilterExpanded ? dashboardRetrieved : dashboardExpanded" class="side-r">
                <section class="info-cards-group row">
                    <mat-card class="card col-lg-2 col-md-3 col-sm-6 col-12">
                        <span class="f-550 active">22.672.697</span>
                        <p class="f-500">Empresas ativas</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-3 col-sm-6  col-12">
                        <span class="f-550 inactive">31.328.120</span>
                        <p class="f-500">Empresas inativas</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-3 col-sm-6  col-12">
                        <span class="f-550">50-100</span>
                        <p class="f-500">Funcionários</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-5 col-sm-6  col-12">
                        <span class="f-550">R$10.000.000,00</span>
                        <p class="f-500">Faturamento anual</p>
                    </mat-card>
                    <mat-card class="card col-lg-2 col-md-5 col-sm-6  col-12">
                        <span class="f-550">8</span>
                        <p class="f-500">Idade média empresas ativas</p>
                    </mat-card>
                </section>
                <section class="graphic row">
                    <mat-card class="col-lg-12 col-md-8 col-sm-12 col-12">
                        <canvasjs-chart [options]="chartOptions" [styles]="{width: '100%', height:'260px'}"></canvasjs-chart>    
                    </mat-card>
                </section>
            </div>
        </div>
        
        <div class="row second-container-sides">
            <section [ngClass]="isFilterExpanded ? filterExpanded : filterRetrieved">
                <div class="filters">
                    <mat-icon class="material-symbols-outlined">
                        filter_alt
                        </mat-icon>
                    <h5 class="title">Filtros</h5>
                </div>
                <button (click)="toggle()">
                    {{ isFilterExpanded ? 'Recolher' : 'Expandir'}}
                </button>
            </section>
            <section [ngClass]=" isFilterExpanded ? dashboardRetrieved : dashboardExpanded"> right</section>
        </div>

    </div>
</main>